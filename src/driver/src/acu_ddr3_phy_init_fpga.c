#include "acu_ddr_init_fpga.h"

void uMCTL2_MISC_config(void)
{
	WRITE32( 			DBG1, 0x00000001); /*DBG1, dis_dq, block all transactions*/
	WRITE32( 		   PWRCTL, 0x00000001); /*Powerdown_en, uMCTL2 goes into power down after a programmable number of cycles*/
	//ddr_readl ( 			 STAT, 0x00000000); /*Operating mode status*/
	 /*MSTR
	 device_config: 	 01->x8 device
	 active_ranks[x:24]: 0, two CS
	 frequency_ratio:	 2:1 mode
	 burst_rdwr:		 burst length of 8
	 data_bus_width:	 full DQ bus width to SDRAM
	 en_2t_timing_mode:  1->enable
	 burstchop: 		 1->enable
	 burst_mode:		 0->sequential burst mode
	 ddr3:				 1->DDR3 SDRAM device in use
	 */
	WRITE32( 			 MSTR, 0x80040601); 
	 /*
	MRCTRL0
	pba_mode:			1->per buffer addressability mode,for DDR4
	mr_addr:			8->No corresponding MR of DDR3
	mr_rank:			0->rank0 only
	sw_init_int:		0->not allowed
	pda_en: 			0->MRS
	mpr_en: 			0->MRS
	mr_type:			0->write
	*/
	WRITE32( 		  MRCTRL0, 0x40008010); 
	WRITE32( 		  MRCTRL1, 0x0002ea35); /*MR address and MR data*/
	WRITE32( 		  MRCTRL2, 0xe82dcc95); /*Devices to be selected during MRS command happen in PDA mode,for DDR4 only*/
	/*
	 PWRCTL
	 dis_cam_drain_selfref: 	1->allow cam not empty before enter self-refresh
	 selfref_sw:				1->software entry to Self Refresh
	 en_dfi_dram_clk_disable:	0->disable
	 powerdown_en				0->disable
	 selfref_en 				0->disable
	*/
	WRITE32( 		   PWRCTL, 0x000000a0); 
	 /*
	PWRTMG
	selfref_to_x32: 	0x3
	powerdown_to_x32:	0x5
	*/
	WRITE32( 		   PWRTMG, 0x00030005); 
	 /*
	HWLPCTL
	hw_lp_idle_x32: 	0xaaf
	hw_lp_exit_idle_en: 0->disable
	hw_lp_en:			1->enable
	*/
	WRITE32( 		  HWLPCTL, 0x0aaf0001); 
	 /*
	RFSHCTL0
	refresh_margin: 0xa 
	refresh_to_x1_32:0xd
	refresh_burst: 0x4
	*/
	WRITE32( 		 RFSHCTL0, 0x00a0d040);
	 /*
	RFSHCTL3
	refresh_mode:		0->Fixed 1x(normal)
	dis_auto_refresh:	0->not disable auto refresh
	*/
	WRITE32( 		 RFSHCTL3, 0x00000000); 
	 /*
	RFSHTMG
	t_rfc_nom_x1_sel:	0x0
	t_rfc_nom_x1_x32:	
	t_rfc_min:			tRFCmin=260ns
	*/
	WRITE32( 		  RFSHTMG, 0x00300034); 
	WRITE32( 	   CRCPARCTL0, 0x00000000); /*CRC Parity Control Register0*/
	WRITE32( 	   CRCPARCTL1, 0x00001000); /*CRC Parity Control Register1*/	
}

void DRAM_INIT_timing(void)
{
	/*
	INIT0:
	skip_dram_init：		00->SDRAM initialization routine is run after power-up
	post_cke_x1024: 	
	pre_cke_x1024:		
	*/
	//WRITE32( 			INIT0, 0x00010062); 
	WRITE32( 			INIT0, 0xc0010062); // skip dram init. 
	/*
	INIT1:
	dram_rstn_x1024:	
	pre_ocd_x32:		
	*/	
	WRITE32( 			INIT1, 0x00280000); 
	/*
	INIT3
	MR0=0x0521

		BL:				01->(BC4 or 8 on the fly via A12)
		Read Burst Type:0->Nibble Sequential
		CAS latency:	0100->6
	TM: 0->Normal
		DLL reset:		1->yes
		WR:				010->6 (15ns/2.5=6)
		Precharge PD:	0->DLL off(slow exit)
	MR1=0x0008
		DLL:			0->Enable
		Output driver:	00->40ohm(RZQ/6)
		Rtt_Nom:		000->ODT Rtt_Nom disabled
		AL:				01->CL-1
		Write leveling:	0->disable
		TDQS:			0->disable
		Qoff			0->Enable
	*/
	WRITE32( 			INIT3, 0x05210008); 
	/*
	INIT4
	MR2=0x0028
		PASR:			000->Full Array
		CWL:			000->CWL=5
		Auto self-refresh 0->disable
		self-refresh temperature 0->normal(0~85)
		Dynamic ODT		00->disable
	MR3=0x0000
		MPR location:	00->Predefined pattern
		mpr:			0->Normal operation
	*/
	WRITE32( 			INIT4, 0x00000000); 
	/*
	INIT5
	dev_zqinit_x32		
	*/
	WRITE32( 			INIT5, 0x00080000); 
	WRITE32( 			INIT6, 0x00000000); 
	WRITE32( 			INIT7, 0x00000000); 
}


void DRAM_prototype_timing(void)
{
	/*DRAMTMG0
	wr2pre				
	t_faw				
	t_ras_max			
	t_ras_min			
	*/	
	WRITE32(          DRAMTMG0, 0x0A0A0D08); 
	/*DRAMTMG1
	t_xp				
	rd2pre				
	t_rc				 
	*/
	WRITE32(          DRAMTMG1, 0x0005050b); 
	/*
	DRAMTMG2
	rd2wr				
	wr2rd				
	*/
	WRITE32(          DRAMTMG2, 0x00000407); 
	/*
	DRAMTMG3
	t_mrd				
	t_mod				
	*/
	WRITE32(          DRAMTMG3, 0x00002006);
	/*
	DRAMTMG4
	t_RCD				
	t_CCD				
	t_rrd				
	t_rp				
	*/
	WRITE32(          DRAMTMG4, 0x01020204);
	/*
	DRAMTMG5
	t_cksrx				
	t_cksre				
	t_ckesr				
	t_cke				
	*/
	WRITE32(          DRAMTMG5, 0x03030202); 
	/*
	DRAMTMG8
	t_xs_dll_x32		
	t_xs_x32			
	*/
	WRITE32(          DRAMTMG8, 0x00000802); 
	/*don't use for DDR3*/
	WRITE32(          DRAMTMG9, 0x40000004); 
	WRITE32(         DRAMTMG10, 0x00060404); 
	WRITE32(         DRAMTMG11, 0x01010006); 
	WRITE32(         DRAMTMG12, 0x00000000); 
	WRITE32(         DRAMTMG15, 0x80000000); 

	WRITE32(            ZQCTL0, 0x00800020); 
	WRITE32(            ZQCTL1, 0x00000070); 	
}


/*Need update based on coreconsult output*/
void DFI_config( void )
{
	/*
	below equation comes from FPGA docs:
	dfi_t_ctrl_delay: tctrl_delay=7+CA_PIPE_DELAY=7+1=8
	tcmd_lat=0
	tphy_wrdata=WRITE_PIPE_DELAY[8:6]=0
	twrdata_delay=11+WRITE_PIPE_DELAY[3:0]=11+6=17
	tphy_wrlat=tctrl_delay+CWL-(6.5+WRITE_PIPE_DELAY)=8+5-(6.5+6)=0.5
	tphy_rdlat=DFICLK_READ_DELAY+1=2+1=3
	trddata_en=tctrl_delay+CAS_read_latency+6+DFICLK_READ_DELAY=8+6+6-2=18
	tphy_rdcsgap=0
	tphy_rdcslat=trddata_en=18
	*/
	WRITE32(		  DFITMG0, 0x08120001); //caculate value
	WRITE32(		  DFITMG1, 0x00110101); //caculate value
	//WRITE32( 		  DFITMG0, 0x028a0002); //FPGA docs refer value
	//WRITE32( 		  DFITMG1, 0x00020101); //FPGA docs refer value
	WRITE32( 		DFILPCFG0, 0x0); 
	WRITE32( 		DFILPCFG1, 0x0); 
	WRITE32( 		  DFIUPD0, 0x0); 
	WRITE32( 		  DFIUPD1, 0x0); 
	WRITE32( 		  DFIUPD2, 0x0); 
	WRITE32( 		  DFIMISC, 0x0); 
	WRITE32( 		  DFITMG2, 0x1202); //caculate value,no FPGA docs refer value
	WRITE32( 		  DFITMG3, 0x0); 
	WRITE32( 		   DBICTL, 0x0); 		/*for DDR4 and LPDDR4*/
	WRITE32( 	   DFIPHYMSTR, 0x0); /*Disable PHY Master Interface*/
}

/*Need update based on coreconsult output*/
void ADDR_MAP(void)
{

	WRITE32(          ADDRMAP1, 0x00021601); 
	WRITE32(          ADDRMAP2, 0x00000400); 
	WRITE32(          ADDRMAP3, 0x03010105); 
	WRITE32(          ADDRMAP4, 0x00001f1f); 
	WRITE32(          ADDRMAP5, 0x09060307); 
	WRITE32(          ADDRMAP6, 0x0f040409); 
	WRITE32(          ADDRMAP7, 0x00000f0f); 
	WRITE32(          ADDRMAP8, 0x00000000); 
	WRITE32(          ADDRMAP9, 0x0a040a04); 
	WRITE32(         ADDRMAP10, 0x09070903); 
	WRITE32(         ADDRMAP11, 0x00000002); 
}

/*Need update based on coreconsult output*/
void Port_config(void)
{
	WRITE32(         POISONCFG, 0x00010001); 
	WRITE32(             PCCFG, 0x00000101); 
	WRITE32(           PCFGR_0, 0x0000224a); 
	WRITE32(           PCFGW_0, 0x00006040); 
	WRITE32(           PCTRL_0, 0x00000001); 
	WRITE32(        PCFGQOS0_0, 0x00110002); 
	WRITE32(        PCFGQOS1_0, 0x0056000e); 
	WRITE32(       PCFGWQOS0_0, 0x01110302); 
	WRITE32(       PCFGWQOS1_0, 0x06c3073a); 
	WRITE32(           PCFGR_1, 0x000022e0); 
	WRITE32(           PCFGW_1, 0x00003221); 
	WRITE32(           PCTRL_1, 0x00000001); 
	WRITE32(        PCFGQOS0_1, 0x00210007); 
	WRITE32(        PCFGQOS1_1, 0x06a70038); 
	WRITE32(       PCFGWQOS0_1, 0x01000904); 
	WRITE32(       PCFGWQOS1_1, 0x023104c8); 
	WRITE32(           PCFGR_2, 0x0000214a); 
	WRITE32(           PCFGW_2, 0x0000218a); 
	WRITE32(           PCTRL_2, 0x00000001); 
	WRITE32(        PCFGQOS0_2, 0x00100006); 
	WRITE32(        PCFGQOS1_2, 0x04ac0276); 
	WRITE32(       PCFGWQOS0_2, 0x00110201); 
	WRITE32(       PCFGWQOS1_2, 0x020e06a8); 
	WRITE32(              PDCH, 0x00000002); /*select channel1 for Port1*/
}

/*Need update based on coreconsult output*/
void DCH1_config(void)
{	
	WRITE32(      DCH1_MRCTRL0, 0x40008010); 
	WRITE32(      DCH1_MRCTRL1, 0x0002ea35); 
	WRITE32(      DCH1_MRCTRL2, 0xe82dcc95); 
	WRITE32(       DCH1_PWRCTL, 0x000000a0); 
	WRITE32(      DCH1_HWLPCTL, 0x0aaf0001); 
	WRITE32(   DCH1_CRCPARCTL0, 0x00000000); 
	WRITE32(       DCH1_ODTMAP, 0x00000001); 
	WRITE32(         DCH1_DBG1, 0x00000000); 
	WRITE32(       DCH1_DBGCMD, 0x00000000); 
	//ddr_readl (          RFSHCTL3, 0x00000000); 
	//ddr_readl (          RFSHCTL3, 0x00000000); 
	//ddr_readl (            PWRCTL, 0x000000a0); 
	WRITE32(            PWRCTL, 0x000000a0); 
	//ddr_readl (       DCH1_PWRCTL, 0x000000a0); 
	WRITE32(       DCH1_PWRCTL, 0x000000a0); 
}

void acu_umctl2_fpga_init(void)
{
	uMCTL2_MISC_config();

	DRAM_INIT_timing();

	WRITE32(DIMMCTL, 0x00000000); 

	DRAM_prototype_timing();

	DFI_config();

	ADDR_MAP();

	WRITE32( 		   ODTCFG, 0x091c0678); 
	WRITE32( 		   ODTMAP, 0x00000001); 
	WRITE32( 			SCHED, 0x119a1500); 
	WRITE32( 		   SCHED1, 0x00000015); 
	WRITE32( 		 PERFHPR1, 0x9c00ee3b); 
	WRITE32( 		 PERFLPR1, 0xc400f97c); 
	WRITE32( 		  PERFWR1, 0x7b000077); 
	WRITE32( 			 DBG0, 0x00000015); 
	WRITE32( 			 DBG1, 0x00000000);/*Allow data transactions*/	
	WRITE32( 		   DBGCMD, 0x00000000); 
	//WRITE32( 			SWCTL, 0x00000001);/*sw_done,set back to 1 once quasi-dynamic register programming done*/
	
	Port_config();			/*Port config,priority etc*/
	
//// step 2 : Deassert core_ddrc_rstn (according to reference test case)
    WRITE32(0x4008c000, 0x03);    // release core/pub apb reset 

	DCH1_config();			/*Channel1 config*/
}

void Load_PE_SDRAM_init(void)
{
	// DRAM_TYPE DDR3, RATIO 1
	
	// RESET_P0 0X0 CKE_P0 0X0 CS_P0 0X3 BA_P0 0X0 RAS_P0 0X0 CAS_P0 0X0 WE_P0 0X0 A_P0 0X00000 RESET_P1 0X0 CKE_P1 0X0 CS_P1 0X3 BA_P1 0X0 RAS_P1 0X0 CAS_P1 0X0 WE_P1 0X0 A_P1 0X00000 WAIT 4e20 CTL 0 STOP 0 ; 
	WRITE32(PUB_ADDR_BASE+0x0800,0x000000f0);
	WRITE32(PUB_ADDR_BASE+0x0804,0x000000f0);
	WRITE32(PUB_ADDR_BASE+0x0808,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x080c,0x000000c0);
	//WRITE32(PUB_ADDR_BASE+0x0810,0x00004e20); // 200us
	WRITE32(PUB_ADDR_BASE+0x0810,0x00000064);   // 1us
	
	// RESET_P0 0X1 CKE_P0 0X0 CS_P0 0X3 BA_P0 0X0 RAS_P0 0X0 CAS_P0 0X0 WE_P0 0X0 A_P0 0X00000 RESET_P1 0X1 CKE_P1 0X0 CS_P1 0X3 BA_P1 0X0 RAS_P1 0X0 CAS_P1 0X0 WE_P1 0X0 A_P1 0X00000 WAIT c350 CTL 0 STOP 0 ; 
	WRITE32(PUB_ADDR_BASE+0x0820,0x800000f0);
	WRITE32(PUB_ADDR_BASE+0x0824,0x800000f0);
	WRITE32(PUB_ADDR_BASE+0x0828,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x082c,0x000000c0);
	//WRITE32(PUB_ADDR_BASE+0x0830,0x0000c350); // 500us
	WRITE32(PUB_ADDR_BASE+0x0830,0x00000064);
	
	// RESET_P0 0X1 CKE_P0 0X3 CS_P0 0X3 BA_P0 0X0 RAS_P0 0X0 CAS_P0 0X0 WE_P0 0X0 A_P0 0X00000 RESET_P1 0X1 CKE_P1 0X3 CS_P1 0X3 BA_P1 0X0 RAS_P1 0X0 CAS_P1 0X0 WE_P1 0X0 A_P1 0X00000 WAIT e CTL 0 STOP 0 ; 
	WRITE32(PUB_ADDR_BASE+0x0840,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x0844,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x0848,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x084c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0850,0x0000000e);
	
	// RESET_P0 0X1 CKE_P0 0X3 CS_P0 0X0 BA_P0 0X2 RAS_P0 0X0 CAS_P0 0X0 WE_P0 0X0 A_P0 0X00008 RESET_P1 0X1 CKE_P1 0X3 CS_P1 0X3 BA_P1 0X0 RAS_P1 0X0 CAS_P1 0X0 WE_P1 0X0 A_P1 0X00000 WAIT 0 CTL 0 STOP 0 ; 
	WRITE32(PUB_ADDR_BASE+0x0860,0x900000c3);   // CWL=5
	WRITE32(PUB_ADDR_BASE+0x0864,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x0868,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x086c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0870,0x00000000);
	
	// RESET_P0 0X1 CKE_P0 0X3 CS_P0 0X3 BA_P0 0X0 RAS_P0 0X0 CAS_P0 0X0 WE_P0 0X0 A_P0 0X00000 RESET_P1 0X1 CKE_P1 0X3 CS_P1 0X3 BA_P1 0X0 RAS_P1 0X0 CAS_P1 0X0 WE_P1 0X0 A_P1 0X00000 WAIT 4 CTL 0 STOP 0 ; 
	WRITE32(PUB_ADDR_BASE+0x0880,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x0884,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x0888,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x088c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0890,0x00000004);
	
	// RESET_P0 0X1 CKE_P0 0X3 CS_P0 0X0 BA_P0 0X3 RAS_P0 0X0 CAS_P0 0X0 WE_P0 0X0 A_P0 0X00000 RESET_P1 0X1 CKE_P1 0X3 CS_P1 0X3 BA_P1 0X0 RAS_P1 0X0 CAS_P1 0X0 WE_P1 0X0 A_P1 0X00000 WAIT 0 CTL 0 STOP 0 ; 
	WRITE32(PUB_ADDR_BASE+0x08a0,0x980000c3);
	WRITE32(PUB_ADDR_BASE+0x08a4,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x08a8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x08ac,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x08b0,0x00000000);
	
	// RESET_P0 0X1 CKE_P0 0X3 CS_P0 0X3 BA_P0 0X0 RAS_P0 0X0 CAS_P0 0X0 WE_P0 0X0 A_P0 0X00000 RESET_P1 0X1 CKE_P1 0X3 CS_P1 0X3 BA_P1 0X0 RAS_P1 0X0 CAS_P1 0X0 WE_P1 0X0 A_P1 0X00000 WAIT 4 CTL 0 STOP 0 ; 
	WRITE32(PUB_ADDR_BASE+0x08c0,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x08c4,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x08c8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x08cc,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x08d0,0x00000004);
	
	// RESET_P0 0X1 CKE_P0 0X3 CS_P0 0X0 BA_P0 0X1 RAS_P0 0X0 CAS_P0 0X0 WE_P0 0X0 A_P0 0X00000 RESET_P1 0X1 CKE_P1 0X3 CS_P1 0X3 BA_P1 0X0 RAS_P1 0X0 CAS_P1 0X0 WE_P1 0X0 A_P1 0X00000 WAIT 0 CTL 0 STOP 0 ; 
	WRITE32(PUB_ADDR_BASE+0x08e0,0x880000c3);//MR1 DLL off/enable bit[8] 
	WRITE32(PUB_ADDR_BASE+0x08e4,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x08e8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x08ec,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x08f0,0x00000000);
	
	// RESET_P0 0X1 CKE_P0 0X3 CS_P0 0X3 BA_P0 0X0 RAS_P0 0X0 CAS_P0 0X0 WE_P0 0X0 A_P0 0X00000 RESET_P1 0X1 CKE_P1 0X3 CS_P1 0X3 BA_P1 0X0 RAS_P1 0X0 CAS_P1 0X0 WE_P1 0X0 A_P1 0X00000 WAIT 4 CTL 0 STOP 0 ; 
	WRITE32(PUB_ADDR_BASE+0x0900,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x0904,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x0908,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x090c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0910,0x00000004);
	
	// RESET_P0 0X1 CKE_P0 0X3 CS_P0 0X0 BA_P0 0X0 RAS_P0 0X0 CAS_P0 0X0 WE_P0 0X0 A_P0 0X00320 RESET_P1 0X1 CKE_P1 0X3 CS_P1 0X3 BA_P1 0X0 RAS_P1 0X0 CAS_P1 0X0 WE_P1 0X0 A_P1 0X00000 WAIT 0 CTL 0 STOP 0 ; 
	WRITE32(PUB_ADDR_BASE+0x0920,0x800321c3);   // BC4 or BL58 on the fly
	WRITE32(PUB_ADDR_BASE+0x0924,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x0928,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x092c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0930,0x00000000);
	
	// RESET_P0 0X1 CKE_P0 0X3 CS_P0 0X3 BA_P0 0X0 RAS_P0 0X0 CAS_P0 0X0 WE_P0 0X0 A_P0 0X00000 RESET_P1 0X1 CKE_P1 0X3 CS_P1 0X3 BA_P1 0X0 RAS_P1 0X0 CAS_P1 0X0 WE_P1 0X0 A_P1 0X00000 WAIT c CTL 0 STOP 0 ; 
	WRITE32(PUB_ADDR_BASE+0x0940,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x0944,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x0948,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x094c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0950,0x0000000c);
	
	// RESET_P0 0X1 CKE_P0 0X3 CS_P0 0X0 BA_P0 0X0 RAS_P0 0X1 CAS_P0 0X1 WE_P0 0X0 A_P0 0X00400 RESET_P1 0X1 CKE_P1 0X3 CS_P1 0X3 BA_P1 0X0 RAS_P1 0X0 CAS_P1 0X0 WE_P1 0X0 A_P1 0X00000 WAIT 0 CTL 0 STOP 0 ; 
	WRITE32(PUB_ADDR_BASE+0x0960,0x860400c3);
	WRITE32(PUB_ADDR_BASE+0x0964,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x0968,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x096c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0970,0x00000000);
	
	// RESET_P0 0X1 CKE_P0 0X3 CS_P0 0X3 BA_P0 0X0 RAS_P0 0X0 CAS_P0 0X0 WE_P0 0X0 A_P0 0X00000 RESET_P1 0X1 CKE_P1 0X3 CS_P1 0X3 BA_P1 0X0 RAS_P1 0X0 CAS_P1 0X0 WE_P1 0X0 A_P1 0X00000 WAIT 200 CTL 0 STOP 0 ; 
	WRITE32(PUB_ADDR_BASE+0x0980,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x0984,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x0988,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x098c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0990,0x00000200);
	
	// RESET_P0 0X1 CKE_P0 0X3 CS_P0 0X3 BA_P0 0X0 RAS_P0 0X0 CAS_P0 0X0 WE_P0 0X0 A_P0 0X00000 RESET_P1 0X1 CKE_P1 0X3 CS_P1 0X3 BA_P1 0X0 RAS_P1 0X0 CAS_P1 0X0 WE_P1 0X0 A_P1 0X00000 WAIT 0 CTL 0 STOP 1 ; 
	WRITE32(PUB_ADDR_BASE+0x09a0,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x09a4,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x09a8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x09ac,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x09b0,0x00080000);
	
	WRITE32(PUB_ADDR_BASE+0x09c0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x09c4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x09c8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x09cc,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x09d0,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x09e0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x09e4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x09e8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x09ec,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x09f0,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0a00,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0a04,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0a08,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0a0c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0a10,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0a20,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0a24,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0a28,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0a2c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0a30,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0a40,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0a44,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0a48,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0a4c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0a50,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0a60,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0a64,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0a68,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0a6c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0a70,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0a80,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0a84,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0a88,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0a8c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0a90,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0aa0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0aa4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0aa8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0aac,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ab0,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0ac0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ac4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ac8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0acc,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ad0,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0ae0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ae4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ae8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0aec,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0af0,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0b00,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b04,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b08,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b0c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b10,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0b20,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b24,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b28,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b2c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b30,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0b40,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b44,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b48,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b4c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b50,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0b60,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b64,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b68,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b6c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b70,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0b80,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b84,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b88,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b8c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b90,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0ba0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ba4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ba8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0bac,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0bb0,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0bc0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0bc4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0bc8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0bcc,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0bd0,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0be0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0be4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0be8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0bec,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0bf0,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0c00,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c04,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c08,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c0c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c10,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0c20,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c24,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c28,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c2c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c30,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0c40,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c44,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c48,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c4c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c50,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0c60,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c64,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c68,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c6c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c70,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0c80,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c84,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c88,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c8c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c90,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0ca0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ca4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ca8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0cac,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0cb0,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0cc0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0cc4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0cc8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ccc,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0cd0,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0ce0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ce4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ce8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0cec,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0cf0,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0d00,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d04,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d08,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d0c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d10,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0d20,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d24,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d28,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d2c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d30,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0d40,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d44,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d48,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d4c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d50,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0d60,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d64,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d68,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d6c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d70,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0d80,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d84,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d88,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d8c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d90,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0da0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0da4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0da8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0dac,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0db0,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0dc0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0dc4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0dc8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0dcc,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0dd0,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0de0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0de4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0de8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0dec,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0df0,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0e00,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e04,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e08,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e0c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e10,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0e20,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e24,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e28,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e2c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e30,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0e40,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e44,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e48,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e4c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e50,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0e60,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e64,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e68,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e6c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e70,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0e80,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e84,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e88,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e8c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e90,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0ea0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ea4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ea8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0eac,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0eb0,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0ec0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ec4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ec8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ecc,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ed0,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0ee0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ee4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ee8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0eec,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ef0,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0f00,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f04,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f08,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f0c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f10,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0f20,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f24,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f28,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f2c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f30,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0f40,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f44,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f48,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f4c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f50,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0f60,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f64,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f68,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f6c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f70,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0f80,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f84,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f88,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f8c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f90,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0fa0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0fa4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0fa8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0fac,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0fb0,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0fc0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0fc4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0fc8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0fcc,0x000000c0);
}
void Load_PE_training(void)
{
	// DRAM_TYPE DDR3, RATIO 1
	
	// RESET_P0 0X1 CKE_P0 0X3 CS_P0 0X0 BA_P0 0X1 RAS_P0 0X0 CAS_P0 0X1 WE_P0 0X1 A_P0 0X00000 RESET_P1 0X1 CKE_P1 0X3 CS_P1 0X3 BA_P1 0X0 RAS_P1 0X0 CAS_P1 0X0 WE_P1 0X0 A_P1 0X00000 WAIT 0 CTL 0 STOP 0 ; 
	WRITE32(PUB_ADDR_BASE+0x0800,0x8b0000c3);
	WRITE32(PUB_ADDR_BASE+0x0804,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x0808,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x080c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0810,0x00000000);
	
	// RESET_P0 0X1 CKE_P0 0X3 CS_P0 0X3 BA_P0 0X0 RAS_P0 0X0 CAS_P0 0X0 WE_P0 0X0 A_P0 0X00000 RESET_P1 0X1 CKE_P1 0X3 CS_P1 0X3 BA_P1 0X0 RAS_P1 0X0 CAS_P1 0X0 WE_P1 0X0 A_P1 0X00000 WAIT 2 CTL 0 STOP 0 ; 
	WRITE32(PUB_ADDR_BASE+0x0820,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x0824,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x0828,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x082c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0830,0x00000002);
	
	// RESET_P0 0X1 CKE_P0 0X3 CS_P0 0X2 BA_P0 0X1 RAS_P0 0X1 CAS_P0 0X0 WE_P0 0X0 A_P0 0X00000 RESET_P1 0X1 CKE_P1 0X3 CS_P1 0X3 BA_P1 0X1 RAS_P1 0X1 CAS_P1 0X0 WE_P1 0X0 A_P1 0X00000 WAIT 0 CTL 0 STOP 0 ; 
	WRITE32(PUB_ADDR_BASE+0x0840,0x8c0000e3);
	WRITE32(PUB_ADDR_BASE+0x0844,0x8c0000f3);
	WRITE32(PUB_ADDR_BASE+0x0848,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x084c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0850,0x00000000);
	
	// RESET_P0 0X1 CKE_P0 0X3 CS_P0 0X3 BA_P0 0X0 RAS_P0 0X0 CAS_P0 0X0 WE_P0 0X0 A_P0 0X00000 RESET_P1 0X1 CKE_P1 0X3 CS_P1 0X3 BA_P1 0X0 RAS_P1 0X0 CAS_P1 0X0 WE_P1 0X0 A_P1 0X00000 WAIT 0 CTL 0 STOP 0 ; 
	WRITE32(PUB_ADDR_BASE+0x0860,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x0864,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x0868,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x086c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0870,0x00000000);
	
	// RESET_P0 0X1 CKE_P0 0X3 CS_P0 0X2 BA_P0 0X1 RAS_P0 0X1 CAS_P0 0X0 WE_P0 0X0 A_P0 0X00008 RESET_P1 0X1 CKE_P1 0X3 CS_P1 0X3 BA_P1 0X1 RAS_P1 0X1 CAS_P1 0X0 WE_P1 0X0 A_P1 0X00008 WAIT 0 CTL 4 STOP 0 ; 
	WRITE32(PUB_ADDR_BASE+0x0880,0x8c0008e3);
	WRITE32(PUB_ADDR_BASE+0x0884,0x8c0008f3);
	WRITE32(PUB_ADDR_BASE+0x0888,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x088c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0890,0x00040000);
	
	// RESET_P0 0X1 CKE_P0 0X3 CS_P0 0X3 BA_P0 0X1 RAS_P0 0X1 CAS_P0 0X0 WE_P0 0X0 A_P0 0X00000 RESET_P1 0X1 CKE_P1 0X3 CS_P1 0X3 BA_P1 0X1 RAS_P1 0X1 CAS_P1 0X0 WE_P1 0X0 A_P1 0X00000 WAIT 0 CTL 0 STOP 0 ; 
	WRITE32(PUB_ADDR_BASE+0x08a0,0x8c0000f3);
	WRITE32(PUB_ADDR_BASE+0x08a4,0x8c0000f3);
	WRITE32(PUB_ADDR_BASE+0x08a8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x08ac,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x08b0,0x00000000);
	
	// RESET_P0 0X1 CKE_P0 0X3 CS_P0 0X2 BA_P0 0X1 RAS_P0 0X1 CAS_P0 0X0 WE_P0 0X0 A_P0 0X00010 RESET_P1 0X1 CKE_P1 0X3 CS_P1 0X3 BA_P1 0X1 RAS_P1 0X1 CAS_P1 0X0 WE_P1 0X0 A_P1 0X00010 WAIT 0 CTL 5 STOP 0 ; 
	WRITE32(PUB_ADDR_BASE+0x08c0,0x8c0010e3);
	WRITE32(PUB_ADDR_BASE+0x08c4,0x8c0010f3);
	WRITE32(PUB_ADDR_BASE+0x08c8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x08cc,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x08d0,0x00050000);
	
	// RESET_P0 0X1 CKE_P0 0X3 CS_P0 0X3 BA_P0 0X1 RAS_P0 0X1 CAS_P0 0X0 WE_P0 0X0 A_P0 0X00008 RESET_P1 0X1 CKE_P1 0X3 CS_P1 0X3 BA_P1 0X1 RAS_P1 0X1 CAS_P1 0X0 WE_P1 0X0 A_P1 0X00008 WAIT 0 CTL 0 STOP 0 ; 
	WRITE32(PUB_ADDR_BASE+0x08e0,0x8c0008f3);
	WRITE32(PUB_ADDR_BASE+0x08e4,0x8c0008f3);
	WRITE32(PUB_ADDR_BASE+0x08e8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x08ec,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x08f0,0x00000000);
	
	// RESET_P0 0X1 CKE_P0 0X3 CS_P0 0X3 BA_P0 0X1 RAS_P0 0X0 CAS_P0 0X0 WE_P0 0X0 A_P0 0X00010 RESET_P1 0X1 CKE_P1 0X3 CS_P1 0X3 BA_P1 0X1 RAS_P1 0X0 CAS_P1 0X0 WE_P1 0X0 A_P1 0X00010 WAIT 0 CTL 4 STOP 0 ; 
	WRITE32(PUB_ADDR_BASE+0x0900,0x880010f3);
	WRITE32(PUB_ADDR_BASE+0x0904,0x880010f3);
	WRITE32(PUB_ADDR_BASE+0x0908,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x090c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0910,0x00040000);
	
	// RESET_P0 0X1 CKE_P0 0X3 CS_P0 0X3 BA_P0 0X0 RAS_P0 0X0 CAS_P0 0X0 WE_P0 0X0 A_P0 0X00000 RESET_P1 0X1 CKE_P1 0X3 CS_P1 0X3 BA_P1 0X0 RAS_P1 0X0 CAS_P1 0X0 WE_P1 0X0 A_P1 0X00000 WAIT 3 CTL 0 STOP 0 ; 
	WRITE32(PUB_ADDR_BASE+0x0920,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x0924,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x0928,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x092c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0930,0x00000003);
	
	// RESET_P0 0X1 CKE_P0 0X3 CS_P0 0X2 BA_P0 0X1 RAS_P0 0X1 CAS_P0 0X0 WE_P0 0X1 A_P0 0X00000 RESET_P1 0X1 CKE_P1 0X3 CS_P1 0X3 BA_P1 0X1 RAS_P1 0X1 CAS_P1 0X0 WE_P1 0X1 A_P1 0X00000 WAIT 0 CTL 0 STOP 0 ; 
	WRITE32(PUB_ADDR_BASE+0x0940,0x8d0000e3);
	WRITE32(PUB_ADDR_BASE+0x0944,0x8d0000f3);
	WRITE32(PUB_ADDR_BASE+0x0948,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x094c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0950,0x00000000);
	
	// RESET_P0 0X1 CKE_P0 0X3 CS_P0 0X3 BA_P0 0X0 RAS_P0 0X0 CAS_P0 0X0 WE_P0 0X0 A_P0 0X00000 RESET_P1 0X1 CKE_P1 0X3 CS_P1 0X3 BA_P1 0X0 RAS_P1 0X0 CAS_P1 0X0 WE_P1 0X0 A_P1 0X00000 WAIT 0 CTL 0 STOP 0 ; 
	WRITE32(PUB_ADDR_BASE+0x0960,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x0964,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x0968,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x096c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0970,0x00000000);
	
	// RESET_P0 0X1 CKE_P0 0X3 CS_P0 0X2 BA_P0 0X1 RAS_P0 0X1 CAS_P0 0X0 WE_P0 0X1 A_P0 0X00008 RESET_P1 0X1 CKE_P1 0X3 CS_P1 0X3 BA_P1 0X1 RAS_P1 0X1 CAS_P1 0X0 WE_P1 0X1 A_P1 0X00008 WAIT 0 CTL 0 STOP 0 ; 
	WRITE32(PUB_ADDR_BASE+0x0980,0x8d0008e3);
	WRITE32(PUB_ADDR_BASE+0x0984,0x8d0008f3);
	WRITE32(PUB_ADDR_BASE+0x0988,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x098c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0990,0x00000000);
	
	// RESET_P0 0X1 CKE_P0 0X3 CS_P0 0X3 BA_P0 0X0 RAS_P0 0X0 CAS_P0 0X0 WE_P0 0X0 A_P0 0X00000 RESET_P1 0X1 CKE_P1 0X3 CS_P1 0X3 BA_P1 0X0 RAS_P1 0X0 CAS_P1 0X0 WE_P1 0X0 A_P1 0X00000 WAIT 0 CTL 0 STOP 0 ; 
	WRITE32(PUB_ADDR_BASE+0x09a0,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x09a4,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x09a8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x09ac,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x09b0,0x00000000);
	
	// RESET_P0 0X1 CKE_P0 0X3 CS_P0 0X2 BA_P0 0X1 RAS_P0 0X1 CAS_P0 0X0 WE_P0 0X1 A_P0 0X00010 RESET_P1 0X1 CKE_P1 0X3 CS_P1 0X3 BA_P1 0X1 RAS_P1 0X1 CAS_P1 0X0 WE_P1 0X1 A_P1 0X00010 WAIT 0 CTL 0 STOP 0 ; 
	WRITE32(PUB_ADDR_BASE+0x09c0,0x8d0010e3);
	WRITE32(PUB_ADDR_BASE+0x09c4,0x8d0010f3);
	WRITE32(PUB_ADDR_BASE+0x09c8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x09cc,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x09d0,0x00000000);
	
	// RESET_P0 0X1 CKE_P0 0X3 CS_P0 0X3 BA_P0 0X0 RAS_P0 0X0 CAS_P0 0X0 WE_P0 0X0 A_P0 0X00000 RESET_P1 0X1 CKE_P1 0X3 CS_P1 0X3 BA_P1 0X0 RAS_P1 0X0 CAS_P1 0X0 WE_P1 0X0 A_P1 0X00000 WAIT 1 CTL 0 STOP 0 ; 
	WRITE32(PUB_ADDR_BASE+0x09e0,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x09e4,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x09e8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x09ec,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x09f0,0x00000001);
	
	// RESET_P0 0X1 CKE_P0 0X3 CS_P0 0X3 BA_P0 0X1 RAS_P0 0X1 CAS_P0 0X0 WE_P0 0X1 A_P0 0X00008 RESET_P1 0X1 CKE_P1 0X3 CS_P1 0X3 BA_P1 0X0 RAS_P1 0X0 CAS_P1 0X0 WE_P1 0X0 A_P1 0X00008 WAIT 0 CTL 3 STOP 0 ; 
	WRITE32(PUB_ADDR_BASE+0x0a00,0x8d0008f3);
	WRITE32(PUB_ADDR_BASE+0x0a04,0x800008f3);
	WRITE32(PUB_ADDR_BASE+0x0a08,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0a0c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0a10,0x00030000);
	
	// RESET_P0 0X1 CKE_P0 0X3 CS_P0 0X3 BA_P0 0X0 RAS_P0 0X0 CAS_P0 0X0 WE_P0 0X0 A_P0 0X00000 RESET_P1 0X1 CKE_P1 0X3 CS_P1 0X3 BA_P1 0X0 RAS_P1 0X0 CAS_P1 0X0 WE_P1 0X0 A_P1 0X00000 WAIT 4 CTL 0 STOP 0 ; 
	WRITE32(PUB_ADDR_BASE+0x0a20,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x0a24,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x0a28,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0a2c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0a30,0x00000004);
	
	// RESET_P0 0X1 CKE_P0 0X3 CS_P0 0X0 BA_P0 0X1 RAS_P0 0X0 CAS_P0 0X1 WE_P0 0X0 A_P0 0X00000 RESET_P1 0X1 CKE_P1 0X3 CS_P1 0X3 BA_P1 0X0 RAS_P1 0X0 CAS_P1 0X0 WE_P1 0X0 A_P1 0X00000 WAIT 0 CTL 0 STOP 0 ; 
	WRITE32(PUB_ADDR_BASE+0x0a40,0x8a0000c3);
	WRITE32(PUB_ADDR_BASE+0x0a44,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x0a48,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0a4c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0a50,0x00000000);
	
	// RESET_P0 0X1 CKE_P0 0X3 CS_P0 0X3 BA_P0 0X0 RAS_P0 0X0 CAS_P0 0X0 WE_P0 0X0 A_P0 0X00000 RESET_P1 0X1 CKE_P1 0X3 CS_P1 0X3 BA_P1 0X0 RAS_P1 0X0 CAS_P1 0X0 WE_P1 0X0 A_P1 0X00000 WAIT 0 CTL 0 STOP 1 ; 
	WRITE32(PUB_ADDR_BASE+0x0a60,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x0a64,0x800000f3);
	WRITE32(PUB_ADDR_BASE+0x0a68,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0a6c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0a70,0x00080000);
	
	WRITE32(PUB_ADDR_BASE+0x0a80,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0a84,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0a88,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0a8c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0a90,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0aa0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0aa4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0aa8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0aac,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ab0,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0ac0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ac4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ac8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0acc,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ad0,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0ae0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ae4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ae8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0aec,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0af0,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0b00,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b04,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b08,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b0c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b10,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0b20,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b24,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b28,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b2c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b30,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0b40,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b44,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b48,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b4c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b50,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0b60,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b64,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b68,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b6c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b70,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0b80,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b84,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b88,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b8c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0b90,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0ba0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ba4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ba8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0bac,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0bb0,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0bc0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0bc4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0bc8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0bcc,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0bd0,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0be0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0be4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0be8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0bec,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0bf0,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0c00,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c04,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c08,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c0c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c10,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0c20,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c24,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c28,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c2c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c30,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0c40,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c44,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c48,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c4c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c50,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0c60,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c64,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c68,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c6c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c70,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0c80,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c84,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c88,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c8c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0c90,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0ca0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ca4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ca8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0cac,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0cb0,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0cc0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0cc4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0cc8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ccc,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0cd0,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0ce0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ce4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ce8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0cec,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0cf0,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0d00,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d04,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d08,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d0c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d10,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0d20,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d24,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d28,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d2c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d30,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0d40,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d44,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d48,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d4c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d50,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0d60,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d64,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d68,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d6c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d70,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0d80,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d84,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d88,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d8c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0d90,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0da0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0da4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0da8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0dac,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0db0,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0dc0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0dc4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0dc8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0dcc,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0dd0,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0de0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0de4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0de8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0dec,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0df0,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0e00,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e04,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e08,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e0c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e10,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0e20,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e24,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e28,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e2c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e30,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0e40,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e44,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e48,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e4c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e50,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0e60,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e64,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e68,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e6c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e70,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0e80,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e84,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e88,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e8c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0e90,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0ea0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ea4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ea8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0eac,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0eb0,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0ec0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ec4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ec8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ecc,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ed0,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0ee0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ee4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ee8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0eec,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ef0,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0f00,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f04,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f08,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f0c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f10,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0f20,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f24,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f28,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f2c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f30,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0f40,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f44,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f48,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f4c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f50,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0f60,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f64,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f68,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f6c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f70,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0f80,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f84,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f88,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f8c,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0f90,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0fa0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0fa4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0fa8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0fac,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0fb0,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0fc0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0fc4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0fc8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0fcc,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0fd0,0x00000000);
	
	WRITE32(PUB_ADDR_BASE+0x0fe0,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0fe4,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0fe8,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0fec,0x000000c0);
	WRITE32(PUB_ADDR_BASE+0x0ff0,0x00000000);
}

void acu_pub_phy_fpga_init(int DPHY_ADDR_BASE)
{
	/*REVISION_REGISTER*/
	/*INTERRUPT_ENABLE*/	
	/*INTERRUPT_MASK*/
	WRITE32(PUB_ADDR_BASE+0x20,0x3FF);	//Mask  all interrupt

	/*WRITE_PIPE_DELAY*/
	WRITE32(PUB_ADDR_BASE+0xC,0x08);    // modify
	/*CA_PIPE_DELAY*/
	WRITE32(PUB_ADDR_BASE+0x10,0x1);
	/*DFI_READ_DELAY_RANK_0*/
	WRITE32(PUB_ADDR_BASE+0x30,0xFFFF);//Byte0~Byte7,DFICLK delay for dfi_rddata_en = 0x2
	/*FCLK_READ_DELAY_RANK_0*/
	//WRITE32(PUB_ADDR_BASE+0x34,0x55555555);//Byte0~Byte7, fclk delay for read data pipe = 0x6
	WRITE32(PUB_ADDR_BASE+0x34,0x44444444);//Byte0~Byte7, fclk delay for read data pipe = 0x6
	/*DFI_READ_DELAY_RANK_1*/
	WRITE32(PUB_ADDR_BASE+0x40,0xAAAA);//Byte0~Byte7,DFICLK delay for dfi_rddata_en = 0x2
	/*FCLK_READ_DELAY_RANK_1*/
	WRITE32(PUB_ADDR_BASE+0x44,0x66666666);//Byte0~Byte7, fclk delay for read data pipe = 0x6


	/*GENERAL_SETUP
	Format=00: DDR3
	PHY_channel_en=01: DFI1 driven by DFI0
	Write DQS adjust=1: Write DQS is asserted two FCLK ticks before Data
	Reset signal Drive 1 as present signal for RAM
	Training Base； 0
	CA bus initially valid on MEMCLK falling edge
	*/
	WRITE32(PUB_ADDR_BASE+0x0,0x94);
	
	Load_PE_SDRAM_init();

    WRITE32(0x4008c000,0x00);    // release  fpga phy dfi_reset_n
//    should remain asserted until all PHY register are fully programmed,
//    but de-asserted prior to PLAYBACK_ENABLE bit is set


	/*Playback Enable*/
	WRITE32(PUB_ADDR_BASE+0x4,0x1);	

	/*Playback Status*/
	/*wait PLAYBACK_RUNNING = 0, PE done */ 
	while((READ32 ( PUB_ADDR_BASE+0x8) & 0x1) != 0x0) ;

	/*Playback Enable set to disable*/
	WRITE32(PUB_ADDR_BASE+0x4,0x0);	
	/*CTRLUPD_CONFIG*/
	/*DEBUG*/

	/*INTERRUPT_STATUS*/
	/*INTERRUPT_CLEAR*/
	
	/*FCLK_READ_OFFSET_RANK_0*/
	/*FCLK_READ_OFFSET_RANK_1*/
	
	/*TRAIN STATUS*/
	/*READ_TRAINING_CAPTURE0*/
	/*READ_TRAINING_CAPTURE1*/

	/*READ_PHASE_RANK_0*/
	/*READ_PHASE_RANK_1*/
	/*PLAYBACK_ENGINE_CODE*/
	
	//acu_pub_phy_fpga_training();
}

void acu_pub_phy_fpga_training(void)
{
	unsigned readVal=0;
    DEBUG_MSG("FPGA phy training set. \n"); 

	Load_PE_training();
	/*DATA_BYTE_SEL
	RANK: two CS
	Highest Numbered Dbyte: 0x7
	*/
	WRITE32(PUB_ADDR_BASE+0x10,0x17);

	readVal=READ32(PUB_ADDR_BASE+0x0);
	WRITE32(PUB_ADDR_BASE+0x0,readVal|0x20);//set AutoTrain
	
	/*AUTOTRAIN_LOOP_ADDR*/
	WRITE32(PUB_ADDR_BASE+0x60,0x2);//training loop start,what's the meaning?	

    // release dfi_reset_n // use axi port0 reset_n for fpga phy dfi_reset_n
    //WRITE32(0x4008c000+i*0x400,0x03);    // release core/pub apb reset 
    WRITE32(0x4008c000,0x00);    // release  fpga phy dfi_reset_n
//    should remain asserted until all PHY register are fully programmed,
//    but de-asserted prior to PLAYBACK_ENABLE bit is set

	/*Playback Enable*/
	WRITE32(PUB_ADDR_BASE+0x4,0x1);	

	/*wait training complete*/
	while((READ32 ( PUB_ADDR_BASE+0x64) & 0x1) != 0x1) ;

	//check training pass or fail
	readVal=READ32 ( PUB_ADDR_BASE+0x64);
	if(readVal&0x4) DEBUG_MSG("FPGA phy training fail \n");
	else DEBUG_MSG("FPGA phy training pass \n");
}

